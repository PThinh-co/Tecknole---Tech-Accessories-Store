<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Danh m·ª•c s·∫£n ph·∫©m - Tecknole</title>
    <link rel="stylesheet" href="assets/css/reset.css">
    <link rel="stylesheet" href="assets/css/base.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <style>
        .category-header {
            background: linear-gradient(135deg, var(--color-one) 0%, var(--color-two) 100%);
            color: var(--text-color-two);
            padding: 40px 20px;
            text-align: center;
            margin-bottom: 40px;
        }

        .category-header h1 {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .category-header p {
            font-size: 16px;
            opacity: 0.9;
        }

        .filter-section {
            background: var(--bg);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 30px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .filter-row {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
            align-items: center;
        }

        .filter-group {
            flex: 1;
            min-width: 200px;
        }

        .filter-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-color-one);
            font-size: 14px;
        }

        .filter-group select {
            width: 100%;
            padding: 10px 15px;
            border-radius: 10px;
            border: 1px solid var(--border);
            background: var(--bg);
            font-size: 14px;
            cursor: pointer;
            outline: none;
            color: var(--text-color-one);
        }

        .filter-group select:focus {
            border-color: var(--color-one);
        }

        .products-count {
            text-align: center;
            margin-bottom: 20px;
            color: #666;
            font-size: 14px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 30px;
            margin-bottom: 50px;
        }

        .no-products {
            text-align: center;
            padding: 60px 20px;
            color: #666;
            display: none;
        }

        .no-products h3 {
            font-size: 24px;
            margin-bottom: 10px;
            color: var(--text-color-one);
        }

        @media (max-width: 1024px) {
            .products-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .category-header h1 {
                font-size: 28px;
            }
            .filter-row {
                flex-direction: column;
            }
            .filter-group {
                width: 100%;
            }
            .products-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: 20px;
            }
        }

        @media (max-width: 480px) {
            .products-grid {
                grid-template-columns: 1fr;
                gap: 15px;
            }
        }
    </style>
</head>
<body>

    <!-- HEADER -->
    <header class="header">
        <div class="header-top">
            <div class="inner-logo">
                <a href="index.html">        
                    <img src="assets/images/logoteck.png" alt="logotecknole">
                    <span>Tecknole</span>
                </a>
            </div>
            <div class="header-search">
                <form method="get" action="/tim" enctype="multipart/form-data" class="clearfix search-form bg-white" role="search" aria-label="T√¨m ki·∫øm s·∫£n ph·∫©m">
                    <select name="scat_id" aria-label="Ch·ªçn danh m·ª•c">
                        <option value="">T·∫•t c·∫£ danh m·ª•c</option>
                        <option value="1">M√†n H√¨nh</option>
                        <option value="2">B√†n Ph√≠m</option>
                        <option value="3">Chu·ªôt</option>
                        <option value="4">Tai Nghe</option>
                        <option value="5">Loa</option>
                        <option value="6">Mic</option>
                    </select>
            
                    <div class="searh-form-container">
                        <input type="text" id="js-search" class="text_search" name="q" placeholder="T√¨m ki·∫øm s·∫£n ph·∫©m..." autocomplete="off" aria-autocomplete="list" aria-controls="autocomplete-list" />
                        <button type="submit" class="submit-search" aria-label="T√¨m ki·∫øm">
                            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true" focusable="false">
                                <path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <circle cx="11" cy="11" r="6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                            T√¨m ki·∫øm
                        </button>
            
                        <div class="autocomplete-suggestions" id="autocomplete-list" role="listbox" aria-hidden="true">
                            <ul></ul>
                        </div>
                    </div>
                </form>
            </div>
            <div class="user-actions">
                <a href="login.html" class="login">ƒêƒÉng nh·∫≠p</a>
                <a href="register.html" class="register">ƒêƒÉng k√Ω</a>
                <a href="cart.html" class="cart cart-badge">
                    Gi·ªè h√†ng
                    <span>0</span>
                </a>
            </div>
        </div>
        
        <!-- THANH MENU -->
        <nav>
            <div class="nav-container">
                <ul class="nav-menu">
                    <li><a href="index.html">Trang ch·ªß</a></li>
                    <li><a href="about.html">Gi·ªõi thi·ªáu</a></li>
                    <li class="dropdown">
                        <a href="products.html">Danh m·ª•c s·∫£n ph·∫©m ‚ñº</a>
                        <ul class="dropdown-menu">
                            <li>
                                <a href="category.html?type=manhinh">M√†n h√¨nh</a>
                                <ul class="submenu">
                                    <li><a href="category.html?type=manhinh&brand=acer">Acer</a></li>
                                    <li><a href="category.html?type=manhinh&brand=asus">Asus</a></li>
                                    <li><a href="category.html?type=manhinh&brand=lg">LG</a></li>
                                    <li><a href="category.html?type=manhinh&brand=msi">Msi</a></li>
                                    <li><a href="category.html?type=manhinh&brand=viewsonic">Viewsonic</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="category.html?type=banphim">B√†n Ph√≠m</a>
                                <ul class="submenu">
                                    <li><a href="category.html?type=banphim&brand=aula">Aula</a></li>
                                    <li><a href="category.html?type=banphim&brand=akko">Akko</a></li>
                                    <li><a href="category.html?type=banphim&brand=razer">Razer</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="category.html?type=chuot">Chu·ªôt</a>
                                <ul class="submenu">
                                    <li><a href="category.html?type=chuot&brand=razer">Razer</a></li>
                                    <li><a href="category.html?type=chuot&brand=corsair">Corsair</a></li>
                                    <li><a href="category.html?type=chuot&brand=logitech">Logitech</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="category.html?type=tainghe">Tai Nghe</a>
                                <ul class="submenu">
                                    <li><a href="category.html?type=tainghe&brand=apple">Apple</a></li>
                                    <li><a href="category.html?type=tainghe&brand=bose">Bose</a></li>
                                    <li><a href="category.html?type=tainghe&brand=marshall">Marshall</a></li>
                                    <li><a href="category.html?type=tainghe&brand=sony">Sony</a></li>
                                </ul>
                            </li>
                            <li>
                                <a href="category.html?type=loa">Loa</a>
                                <ul class="submenu">
                                    <li><a href="category.html?type=loa&brand=acnos">Acnos</a></li>
                                    <li><a href="category.html?type=loa&brand=devialet">Devialet</a></li>
                                    <li><a href="category.html?type=loa&brand=sony">Sony</a></li>
                                    <li><a href="category.html?type=loa&brand=jbl">JBL</a></li>
                                </ul>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
        </nav>
    </header>
    <!-- END HEADER -->

    <!-- CATEGORY HEADER -->
    <div class="category-header">
        <h1 id="category-title">Danh m·ª•c s·∫£n ph·∫©m</h1>
        <p id="category-desc">Kh√°m ph√° c√°c s·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng cao</p>
    </div>

    <!-- MAIN CONTENT -->
    <div class="container">
        <!-- FILTER SECTION -->
        <div class="filter-section">
            <div class="filter-row">
                <div class="filter-group">
                    <label for="filter-type">Lo·∫°i s·∫£n ph·∫©m</label>
                    <select id="filter-type">
                        <option value="">T·∫•t c·∫£ lo·∫°i</option>
                        <option value="manhinh">M√†n h√¨nh</option>
                        <option value="banphim">B√†n ph√≠m</option>
                        <option value="chuot">Chu·ªôt</option>
                        <option value="tainghe">Tai nghe</option>
                        <option value="loa">Loa</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-brand">Th∆∞∆°ng hi·ªáu</label>
                    <select id="filter-brand">
                        <option value="">T·∫•t c·∫£ th∆∞∆°ng hi·ªáu</option>
                        <option value="acer">Acer</option>
                        <option value="asus">Asus</option>
                        <option value="lg">LG</option>
                        <option value="msi">MSI</option>
                        <option value="viewsonic">Viewsonic</option>
                        <option value="aula">Aula</option>
                        <option value="akko">Akko</option>
                        <option value="razer">Razer</option>
                        <option value="corsair">Corsair</option>
                        <option value="logitech">Logitech</option>
                        <option value="steelseries">SteelSeries</option>
                        <option value="apple">Apple</option>
                        <option value="bose">Bose</option>
                        <option value="marshall">Marshall</option>
                        <option value="sony">Sony</option>
                        <option value="acnos">Acnos</option>
                        <option value="devialet">Devialet</option>
                        <option value="jbl">JBL</option>
                    </select>
                </div>
                <div class="filter-group">
                    <label for="filter-sort">S·∫Øp x·∫øp</label>
                    <select id="filter-sort">
                        <option value="default">M·∫∑c ƒë·ªãnh</option>
                        <option value="price-asc">Gi√° tƒÉng d·∫ßn</option>
                        <option value="price-desc">Gi√° gi·∫£m d·∫ßn</option>
                        <option value="name-asc">T√™n A-Z</option>
                        <option value="name-desc">T√™n Z-A</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="products-count" id="products-count">
            Hi·ªÉn th·ªã <strong id="count-number">...</strong> s·∫£n ph·∫©m
        </div>

        <!-- PRODUCTS GRID -->
        <div class="products-grid" id="products-container">
            <!-- Products will be loaded here -->
        </div>

        <!-- NO PRODUCTS MESSAGE -->
        <div class="no-products" id="no-products">
            <h3>Kh√¥ng t√¨m th·∫•y s·∫£n ph·∫©m</h3>
            <p>Vui l√≤ng th·ª≠ l·∫°i v·ªõi b·ªô l·ªçc kh√°c</p>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>V·ªÅ TechStore</h3>
                <ul>
                    <li><a href="about.html">Gi·ªõi thi·ªáu</a></li>
                    <li><a href="#">Tuy·ªÉn d·ª•ng</a></li>
                    <li><a href="#">Ch√≠nh s√°ch b·∫£o m·∫≠t</a></li>
                    <li><a href="#">ƒêi·ªÅu kho·∫£n s·ª≠ d·ª•ng</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>H·ªó tr·ª£ kh√°ch h√†ng</h3>
                <ul>
                    <li><a href="#">H∆∞·ªõng d·∫´n mua h√†ng</a></li>
                    <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
                    <li><a href="#">B·∫£o h√†nh</a></li>
                    <li><a href="#">C√¢u h·ªèi th∆∞·ªùng g·∫∑p</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Ch√≠nh s√°ch</h3>
                <ul>
                    <li><a href="#">Ch√≠nh s√°ch thanh to√°n</a></li>
                    <li><a href="#">Ch√≠nh s√°ch v·∫≠n chuy·ªÉn</a></li>
                    <li><a href="#">Ch√≠nh s√°ch b·∫£o h√†nh</a></li>
                    <li><a href="#">Ch√≠nh s√°ch ƒë·ªïi tr·∫£</a></li>
                </ul>
            </div>

            <div class="footer-section contact-info">
                <h3>Li√™n h·ªá</h3>
                <p>üìç 123 Nguy·ªÖn VƒÉn Linh, Q7, TP.HCM</p>
                <p>üìû Hotline: 1900 xxxx</p>
                <p>‚úâÔ∏è Email: support@techstore.vn</p>
                <p>üïê Gi·ªù l√†m vi·ªác: 8:00 - 22:00</p>
                <div class="social-links">
                    <a href="#">f</a>
                    <a href="#">üì∑</a>
                    <a href="#">‚ñ∂Ô∏è</a>
                    <a href="#">üíº</a>
                </div>
            </div>
        </div>

        <div class="footer-bottom">
            <p>&copy; 2025 Tecknole. All rights reserved.</p>
        </div>
    </footer>

    <script>
        // D·ªØ li·ªáu s·∫£n ph·∫©m
        const allProducts = [
            { id: 1, name: "B√†n ph√≠m Aula F75", type: "banphim", brand: "aula", price: 1050000, oldPrice: 1380000, image: "assets/images/popular_items/aulaf75_vang.png", badge: "" },
            { id: 2, name: "M√†n h√¨nh MSI MAG 274QF X24 27\"", type: "manhinh", brand: "msi", price: 6690000, oldPrice: 0, image: "assets/images/popular_items/msi_mag_274qf_x24_gearvn_d23c9ec1aab847818a2b31d35a3d25e8_1024x1024.jpg", badge: "HOT" },
            { id: 3, name: "Loa Marshall Stanmore 3", type: "loa", brand: "marshall", price: 7500000, oldPrice: 7990000, image: "assets/images/popular_items/loa_marshal3.webp", badge: "NEW" },
            { id: 4, name: "Chu·ªôt Razer Deathadder V3 Pro", type: "chuot", brand: "razer", price: 5990000, oldPrice: 6990000, image: "assets/images/popular_items/death_adder_v3pro.webp", badge: "" },
            { id: 5, name: "Apple Airpod Pro Gen 2", type: "tainghe", brand: "apple", price: 6090000, oldPrice: 0, image: "assets/images/popular_items/airpods-pro-gen-2-magsafe-charge-usb-c.jpg", badge: "" },
            { id: 6, name: "Chu·ªôt G502 Hero Logitech", type: "chuot", brand: "logitech", price: 1490000, oldPrice: 0, image: "assets/images/popular_items/G502_hero.jpg", badge: "NEW" },
            { id: 7, name: "Tai nghe Marshall Major V", type: "tainghe", brand: "marshall", price: 4290000, oldPrice: 4990000, image: "assets/images/popular_items/major5.jpg", badge: "SALE" },
            { id: 8, name: "B√†n ph√≠m Asus ROG Falchion RX Low Profile", type: "banphim", brand: "asus", price: 4090000, oldPrice: 0, image: "assets/images/img/banphim/asus_anhtrungbay2.jpg", badge: "HOT" },
            { id: 9, name: "Chu·ªôt Corsair Katar Pro Wireless", type: "chuot", brand: "corsair", price: 890000, oldPrice: 990000, image: "assets/images/img/chuot/corsar_trungbay1.jpg", badge: "" },
            { id: 10, name: "Loa x√°ch tay Acnos QUAD 64 V·∫ª2", type: "loa", brand: "acnos", price: 7590000, oldPrice: 8890000, image: "assets/images/img/loa/Acnos_trungbay1.webp", badge: "NEW" },
            { id: 11, name: "B√†n ph√≠m AuLa S98 PRO TM", type: "banphim", brand: "aula", price: 1849000, oldPrice: 2499000, image: "assets/images/img/banphim/aula-trungbay_2.png", badge: "SALE" },
            { id: 12, name: "Loa Devialet Phantom Ultimate 98dB", type: "loa", brand: "devialet", price: 47990000, oldPrice: 0, image: "assets/images/img/loa/devialet_trungbay1.webp", badge: "HOT" },
            { id: 13, name: "B√†n ph√≠m AKKO 5075B Plus", type: "banphim", brand: "akko", price: 1750000, oldPrice: 0, image: "assets/images/img/banphim/akko_anhtrungbay1.jpg", badge: "" },
            { id: 14, name: "Tai nghe Apple Beats Solo Pro", type: "tainghe", brand: "apple", price: 5790000, oldPrice: 6000000, image: "assets/images/img/tainghe/apple_trungbay1.jpg", badge: "" },
            { id: 15, name: "Chu·ªôt Logitech G203 Lightsync", type: "chuot", brand: "logitech", price: 590000, oldPrice: 0, image: "assets/images/img/chuot/logitech_trungbay1.jpg", badge: "" },
            { id: 16, name: "Loa Karaoke JBL CV1852T", type: "loa", brand: "jbl", price: 11590000, oldPrice: 0, image: "assets/images/img/loa/jbl_trungbay1.webp", badge: "NEW" },
            { id: 17, name: "M√†n h√¨nh Acer KG270-X1 27", type: "manhinh", brand: "acer", price: 4290000, oldPrice: 0, image: "assets/images/img/manhinh/Acer_anhtrungbay.png", badge: "HOT" },
            { id: 18, name: "Tai nghe Bose QuietComfort Ultra", type: "tainghe", brand: "bose", price: 9690000, oldPrice: 10990000, image: "assets/images/img/tainghe/bose_trungbay1.jpg", badge: "SALE" },
            { id: 19, name: "B√†n ph√≠m AuLa F75 Pro", type: "banphim", brand: "aula", price: 1860000, oldPrice: 0, image: "assets/images/img/banphim/aula_trungbay1.png", badge: "" },
            { id: 20, name: "M√†n h√¨nh Asus ROG Strix XG259CMS", type: "manhinh", brand: "asus", price: 7799000, oldPrice: 8999000, image: "assets/images/img/manhinh/asus_anhtrungbay1.jpg", badge: "" },
            { id: 21, name: "Chu·ªôt Razer Basilisk V3 Pro", type: "chuot", brand: "razer", price: 4290000, oldPrice: 0, image: "assets/images/img/chuot/razer_trungbay1.jpg", badge: "HOT" },
            { id: 22, name: "Tai nghe Marshall Mode II", type: "tainghe", brand: "marshall", price: 3360000, oldPrice: 0, image: "assets/images/img/tainghe/marshall_trungbay.jpg", badge: "" },
            { id: 23, name: "Loa Marshall Middleton", type: "loa", brand: "marshall", price: 6650000, oldPrice: 7790000, image: "assets/images/img/loa/marshall_trungbay1.webp", badge: "" },
            { id: 24, name: "M√†n h√¨nh Asus TUF Gaming VG27AQ5A", type: "manhinh", brand: "asus", price: 5999000, oldPrice: 0, image: "assets/images/img/manhinh/asus_anhtrungbay2.jpg", badge: "NEW" },
            { id: 25, name: "B√†n ph√≠m Razer Huntsman V3 Pro", type: "banphim", brand: "razer", price: 5999000, oldPrice: 0, image: "assets/images/img/banphim/razer_trungbay2.jpg", badge: "NEW" },
            { id: 26, name: "M√†n h√¨nh LG 27G850A-B", type: "manhinh", brand: "lg", price: 20390000, oldPrice: 0, image: "assets/images/img/manhinh/lg_anhtrungbay1.jpg", badge: "" },
            { id: 27, name: "Chu·ªôt SteelSeries Aerox 5 Wireless", type: "chuot", brand: "steelseries", price: 4090000, oldPrice: 4590000, image: "assets/images/img/chuot/Steelseries_trungbay1.jpg", badge: "" },
            { id: 28, name: "Tai nghe Sony WH‚ÄëCH520", type: "tainghe", brand: "sony", price: 1590000, oldPrice: 0, image: "assets/images/img/tainghe/sony_trungbay.jpg", badge: "NEW" },
            { id: 29, name: "Loa Sony ULT Field 5", type: "loa", brand: "sony", price: 7690000, oldPrice: 8090000, image: "assets/images/img/loa/sony_trungbay1.webp", badge: "" },
            { id: 30, name: "M√†n h√¨nh Viewsonic VX2428AJ-BL", type: "manhinh", brand: "viewsonic", price: 3890000, oldPrice: 0, image: "assets/images/img/manhinh/viewsonic_anhtrungbay1.jpg", badge: "" }
        ];

        console.log('T·ªïng s·ªë s·∫£n ph·∫©m:', allProducts.length);

        // T√™n danh m·ª•c v√† th∆∞∆°ng hi·ªáu
        const categoryNames = {
            'manhinh': 'M√†n h√¨nh',
            'banphim': 'B√†n ph√≠m',
            'chuot': 'Chu·ªôt',
            'tainghe': 'Tai nghe',
            'loa': 'Loa'
        };

        const brandNames = {
            'acer': 'Acer', 'asus': 'Asus', 'lg': 'LG', 'msi': 'MSI', 'viewsonic': 'Viewsonic',
            'aula': 'Aula', 'akko': 'Akko', 'razer': 'Razer',
            'corsair': 'Corsair', 'logitech': 'Logitech', 'steelseries': 'SteelSeries',
            'apple': 'Apple', 'bose': 'Bose', 'marshall': 'Marshall', 'sony': 'Sony',
            'acnos': 'Acnos', 'devialet': 'Devialet', 'jbl': 'JBL'
        };

        // Map th∆∞∆°ng hi·ªáu v·ªõi lo·∫°i s·∫£n ph·∫©m ch√≠nh
        const brandPrimaryCategory = {
            'acer': 'manhinh',
            'asus': 'manhinh', 
            'lg': 'manhinh',
            'msi': 'manhinh',
            'viewsonic': 'manhinh',
            'aula': 'banphim',
            'akko': 'banphim',
            'corsair': 'chuot',
            'logitech': 'chuot',
            'steelseries': 'chuot',
            'apple': 'tainghe',
            'bose': 'tainghe',
            'marshall': 'tainghe',
            'sony': 'tainghe',
            'acnos': 'loa',
            'devialet': 'loa',
            'jbl': 'loa'
        };

        // T·ª± ƒë·ªông detect type t·ª´ brand
        function smartDetectType(brand) {
            if (!brand) return null;
            if (brandPrimaryCategory[brand]) {
                console.log('T·ª± ƒë·ªông detect:', brand, '‚Üí', brandPrimaryCategory[brand]);
                return brandPrimaryCategory[brand];
            }
            return null;
        }

        // L·∫•y tham s·ªë URL
        function getUrlParameter(name) {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get(name);
        }

        // Format gi√°
        function formatPrice(price) {
            return price.toLocaleString('vi-VN') + 'ƒë';
        }

        // T·∫°o HTML cho th·∫ª s·∫£n ph·∫©m
        function createProductCard(product) {
            const oldPriceHTML = product.oldPrice > 0 
                ? '<span class="old-price">' + formatPrice(product.oldPrice) + '</span>' 
                : '';
            
            const badgeHTML = product.badge 
                ? '<span class="product-badge">' + product.badge + '</span>' 
                : '';

            return '<div class="product-card" onclick="window.location=\'product-detail.html?id=' + product.id + '\'">' +
                '<div class="product-image">' +
                    '<img src="' + product.image + '" alt="' + product.name + '">' +
                    badgeHTML +
                '</div>' +
                '<div class="product-info">' +
                    '<div class="product-name">' + product.name + '</div>' +
                    '<div class="product-price">' +
                        formatPrice(product.price) +
                        oldPriceHTML +
                    '</div>' +
                    '<button class="add-to-cart">Th√™m v√†o gi·ªè</button>' +
                '</div>' +
            '</div>';
        }

        // L·ªçc v√† hi·ªÉn th·ªã s·∫£n ph·∫©m
        function displayProducts(autoDetect) {
            let typeFilter = document.getElementById('filter-type').value;
            let brandFilter = document.getElementById('filter-brand').value;
            const sortFilter = document.getElementById('filter-sort').value;

            // CH·ªà t·ª± ƒë·ªông detect khi autoDetect = true (l·∫ßn ƒë·∫ßu load trang)
            // KH√îNG auto-detect khi user thay ƒë·ªïi dropdown
            if (autoDetect && !typeFilter && brandFilter) {
                const detectedType = smartDetectType(brandFilter);
                if (detectedType) {
                    typeFilter = detectedType;
                    document.getElementById('filter-type').value = detectedType;
                }
            }

            console.log('B·ªô l·ªçc:', { type: typeFilter, brand: brandFilter, sort: sortFilter });

            // L·ªçc s·∫£n ph·∫©m
            let filteredProducts = allProducts.filter(function(product) {
                const matchType = !typeFilter || product.type === typeFilter;
                const matchBrand = !brandFilter || product.brand === brandFilter;
                return matchType && matchBrand;
            });

            console.log('S·ªë s·∫£n ph·∫©m sau khi l·ªçc:', filteredProducts.length);

            // S·∫Øp x·∫øp s·∫£n ph·∫©m
            if (sortFilter === 'price-asc') {
                filteredProducts.sort(function(a, b) { return a.price - b.price; });
            } else if (sortFilter === 'price-desc') {
                filteredProducts.sort(function(a, b) { return b.price - a.price; });
            } else if (sortFilter === 'name-asc') {
                filteredProducts.sort(function(a, b) { return a.name.localeCompare(b.name, 'vi'); });
            } else if (sortFilter === 'name-desc') {
                filteredProducts.sort(function(a, b) { return b.name.localeCompare(a.name, 'vi'); });
            }

            // Hi·ªÉn th·ªã s·∫£n ph·∫©m
            const container = document.getElementById('products-container');
            const noProducts = document.getElementById('no-products');
            const countNumber = document.getElementById('count-number');

            if (filteredProducts.length === 0) {
                container.innerHTML = '';
                noProducts.style.display = 'block';
                countNumber.textContent = '0';
                console.log('Kh√¥ng c√≥ s·∫£n ph·∫©m n√†o ph√π h·ª£p');
            } else {
                const productsHTML = filteredProducts.map(function(product) {
                    return createProductCard(product);
                }).join('');
                container.innerHTML = productsHTML;
                noProducts.style.display = 'none';
                countNumber.textContent = filteredProducts.length;
                console.log('ƒê√£ hi·ªÉn th·ªã', filteredProducts.length, 's·∫£n ph·∫©m');
            }
        }

        // C·∫≠p nh·∫≠t ti√™u ƒë·ªÅ trang
        function updatePageTitle() {
            let type = getUrlParameter('type');
            const brand = getUrlParameter('brand');

            // T·ª± ƒë·ªông detect type n·∫øu ch·ªâ c√≥ brand
            if (!type && brand) {
                type = smartDetectType(brand);
            }

            let title = 'Danh m·ª•c s·∫£n ph·∫©m';
            let description = 'Kh√°m ph√° c√°c s·∫£n ph·∫©m ch·∫•t l∆∞·ª£ng cao';

            if (type && brand) {
                title = categoryNames[type] + ' ' + brandNames[brand];
                description = 'C√°c s·∫£n ph·∫©m ' + categoryNames[type] + ' c·ªßa th∆∞∆°ng hi·ªáu ' + brandNames[brand];
            } else if (type) {
                title = categoryNames[type];
                description = 'T·∫•t c·∫£ s·∫£n ph·∫©m ' + categoryNames[type];
            } else if (brand) {
                title = 'Th∆∞∆°ng hi·ªáu ' + brandNames[brand];
                description = 'T·∫•t c·∫£ s·∫£n ph·∫©m c·ªßa ' + brandNames[brand];
            }

            document.getElementById('category-title').textContent = title;
            document.getElementById('category-desc').textContent = description;
            document.title = title + ' - Tecknole';
            
            console.log('Ti√™u ƒë·ªÅ trang:', title);
        }

        // Kh·ªüi t·∫°o b·ªô l·ªçc t·ª´ URL
        function initializeFilters() {
            let type = getUrlParameter('type');
            const brand = getUrlParameter('brand');

            // T·ª± ƒë·ªông detect type n·∫øu ch·ªâ c√≥ brand
            if (!type && brand) {
                type = smartDetectType(brand);
            }

            if (type) {
                document.getElementById('filter-type').value = type;
                console.log('ƒê√£ set filter type:', type);
            }
            if (brand) {
                document.getElementById('filter-brand').value = brand;
                console.log('ƒê√£ set filter brand:', brand);
            }
        }

        // G·∫Øn s·ª± ki·ªán cho c√°c b·ªô l·ªçc
        document.getElementById('filter-type').addEventListener('change', function() {
            console.log('ƒê√£ thay ƒë·ªïi lo·∫°i s·∫£n ph·∫©m');
            displayProducts();
        });
        
        document.getElementById('filter-brand').addEventListener('change', function() {
            console.log('ƒê√£ thay ƒë·ªïi th∆∞∆°ng hi·ªáu');
            displayProducts();
        });
        
        document.getElementById('filter-sort').addEventListener('change', function() {
            console.log('ƒê√£ thay ƒë·ªïi c√°ch s·∫Øp x·∫øp');
            displayProducts();
        });

        // Kh·ªüi t·∫°o trang khi DOM ƒë√£ load xong
        window.addEventListener('DOMContentLoaded', function() {
            console.log('=== B·∫ÆT ƒê·∫¶U KH·ªûI T·∫†O TRANG ===');
            updatePageTitle();
            initializeFilters();
            displayProducts();
            console.log('=== HO√ÄN TH√ÄNH KH·ªûI T·∫†O ===');
        });
    </script>

</body>
</html>